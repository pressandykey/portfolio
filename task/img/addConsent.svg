<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="682px" preserveAspectRatio="none" style="width:579px;height:682px;background:#FFFFFF;" version="1.1" viewBox="0 0 579 682" width="579px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.2969" id="_title" style="stroke:none;stroke-width:1.0;" width="276" x="147.5" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="266" x="152.5" y="27.9951">Отправка в CDI статуса согласия</text><rect fill="#FFFFFF" height="198.6016" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="227" y="147.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="227" x2="227" y1="147.8594" y2="346.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="237" x2="237" y1="147.8594" y2="346.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="227" x2="237" y1="147.8594" y2="147.8594"/><rect fill="#FFFFFF" height="263.8672" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="227" y="374.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="227" x2="227" y1="374.4609" y2="638.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="237" x2="237" y1="374.4609" y2="638.3281"/><rect fill="#FFFFFF" height="199.6016" style="stroke:#181818;stroke-width:1.0;" width="10" x="232" y="438.7266"/><rect fill="#FFFFFF" height="112.2031" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="528" y="234.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="528" x2="528" y1="234.2578" y2="346.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="538" x2="538" y1="234.2578" y2="346.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="528" x2="538" y1="234.2578" y2="234.2578"/><rect fill="#FFFFFF" height="263.8672" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="528" y="374.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="528" x2="528" y1="374.4609" y2="638.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="538" x2="538" y1="374.4609" y2="638.3281"/><rect fill="#FFFFFF" height="113.2031" style="stroke:#181818;stroke-width:1.0;" width="10" x="533" y="525.125"/><rect fill="#E5FFE5" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="383.5" x="178.5" y="249.2578"/><rect fill="#FFE5E5" height="43.9375" style="stroke:none;stroke-width:1.0;" width="383.5" x="178.5" y="295.5234"/><rect fill="#E5FFE5" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="383.5" x="178.5" y="540.125"/><rect fill="#FFE5E5" height="43.9375" style="stroke:none;stroke-width:1.0;" width="383.5" x="178.5" y="586.3906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="231.5" x2="231.5" y1="73.5938" y2="346.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="231.5" x2="231.5" y1="346.4609" y2="374.4609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="231.5" x2="231.5" y1="374.4609" y2="647.3281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="533" x2="533" y1="73.5938" y2="346.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="533" x2="533" y1="346.4609" y2="374.4609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="533" x2="533" y1="374.4609" y2="647.3281"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="188.5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="195.5" y="62.292">MedInsure</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="188.5" y="646.3281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="195.5" y="666.3232">MedInsure</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="38" x="514" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="521" y="62.292">CDI</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="38" x="514" y="646.3281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="521" y="666.3232">CDI</text><rect fill="#FFFFFF" height="198.6016" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="227" y="147.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="227" x2="227" y1="147.8594" y2="346.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="237" x2="237" y1="147.8594" y2="346.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="227" x2="237" y1="147.8594" y2="147.8594"/><rect fill="#FFFFFF" height="263.8672" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="227" y="374.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="227" x2="227" y1="374.4609" y2="638.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="237" x2="237" y1="374.4609" y2="638.3281"/><rect fill="#FFFFFF" height="199.6016" style="stroke:#181818;stroke-width:1.0;" width="10" x="232" y="438.7266"/><rect fill="#FFFFFF" height="112.2031" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="528" y="234.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="528" x2="528" y1="234.2578" y2="346.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="538" x2="538" y1="234.2578" y2="346.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="528" x2="538" y1="234.2578" y2="234.2578"/><rect fill="#FFFFFF" height="263.8672" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="528" y="374.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="528" x2="528" y1="374.4609" y2="638.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="538" x2="538" y1="374.4609" y2="638.3281"/><rect fill="#FFFFFF" height="113.2031" style="stroke:#181818;stroke-width:1.0;" width="10" x="533" y="525.125"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="572" x="0" y="104.1602"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="572" y1="104.1602" y2="104.1602"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="572" y1="107.1602" y2="107.1602"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="169" x="201.5" y="93.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="150" x="207.5" y="109.6606">Согласие Получено</text><polygon fill="#181818" points="215,143.8594,225,147.8594,215,151.8594,219,147.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="221" y1="147.8594" y2="147.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="7" y="142.7935">(1)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="32" y="142.7935">Consent (status = Received)</text><line style="stroke:#181818;stroke-width:1.0;" x1="237" x2="279" y1="192.125" y2="192.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="279" x2="279" y1="192.125" y2="205.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="238" x2="279" y1="205.125" y2="205.125"/><polygon fill="#181818" points="248,201.125,238,205.125,248,209.125,244,205.125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="244" y="179.4927">(2)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="269" y="171.9263">Сохранить</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="269" y="187.0591">согласие</text><polygon fill="#181818" points="516,230.2578,526,234.2578,516,238.2578,520,234.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="237" x2="522" y1="234.2578" y2="234.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="244" y="229.1919">(3)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="269" y="229.1919">POST ${base_url}/v4/consents</text><path d="M178.5,249.2578 L242.5,249.2578 L242.5,256.3906 L232.5,266.3906 L178.5,266.3906 L178.5,249.2578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="383.5" x="178.5" y="249.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="193.5" y="262.3247">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="89" x="257.5" y="261.4683">[201 Created]</text><polygon fill="#181818" points="248,283.5234,238,287.5234,248,291.5234,244,287.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="242" x2="527" y1="287.5234" y2="287.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="254" y="282.4575">(4)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="279" y="282.4575">consent</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="178.5" x2="562" y1="296.5234" y2="296.5234"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="116" x="183.5" y="306.7339">[400 Bad request]</text><polygon fill="#181818" points="248,327.4609,238,331.4609,248,335.4609,244,331.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="242" x2="527" y1="331.4609" y2="331.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="254" y="326.395">(5)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="279" y="326.395">error</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="572" x="0" y="395.0273"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="572" y1="395.0273" y2="395.0273"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="572" y1="398.0273" y2="398.0273"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="166" x="203" y="384.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="147" x="209" y="400.5278">Согласие Отозвано</text><polygon fill="#181818" points="215,434.7266,225,438.7266,215,442.7266,219,438.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="221" y1="438.7266" y2="438.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="7" y="433.6606">(6)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="32" y="433.6606">Consent (status = Revoked)</text><line style="stroke:#181818;stroke-width:1.0;" x1="242" x2="284" y1="482.9922" y2="482.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="284" y1="482.9922" y2="495.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="243" x2="284" y1="495.9922" y2="495.9922"/><polygon fill="#181818" points="253,491.9922,243,495.9922,253,499.9922,249,495.9922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="249" y="470.3599">(7)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="274" y="462.7935">Обновить</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="274" y="477.9263">согласие</text><polygon fill="#181818" points="521,521.125,531,525.125,521,529.125,525,525.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="242" x2="527" y1="525.125" y2="525.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="249" y="520.0591">(8)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="274" y="520.0591">PATCH ${base_url}/v2/consents/{id}</text><path d="M178.5,540.125 L242.5,540.125 L242.5,547.2578 L232.5,557.2578 L178.5,557.2578 L178.5,540.125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="383.5" x="178.5" y="540.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="193.5" y="553.1919">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="89" x="257.5" y="552.3354">[201 Created]</text><polygon fill="#181818" points="253,574.3906,243,578.3906,253,582.3906,249,578.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="247" x2="532" y1="578.3906" y2="578.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="259" y="573.3247">(9)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="284" y="573.3247">consent</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="178.5" x2="562" y1="587.3906" y2="587.3906"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="116" x="183.5" y="597.6011">[400 Bad request]</text><polygon fill="#181818" points="253,618.3281,243,622.3281,253,626.3281,249,622.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="247" x2="532" y1="622.3281" y2="622.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="259" y="617.2622">(10)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="293" y="617.2622">error</text><!--MD5=[0378965e1d3ad4082625e73dd4766e1b]
@startuml
title Отправка в CDI статуса согласия

autonumber "<b>(#)"

participant MedInsure as mdi
participant CDI as cdi

 == Согласие Получено == 

[-> mdi ++ : Consent (status = Received)
  mdi -> mdi : Сохранить\nсогласие
  mdi -> cdi ++ : POST ${base_url}/v4/consents
  alt #E5FFE5 201 Created 
    cdi - -> mdi: consent
  else  #FFE5E5 400 Bad request
    cdi - -> mdi : error
  end
...
  == Согласие Отозвано == 
  
[-> mdi ++ : Consent (status = Revoked)
  mdi -> mdi : Обновить\nсогласие
  mdi -> cdi ++ : PATCH ${base_url}/v2/consents/{id}
  alt #E5FFE5 201 Created 
    cdi - -> mdi: consent
  else  #FFE5E5 400 Bad request
    cdi - -> mdi : error
  end
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>